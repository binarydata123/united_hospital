{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\reactjs\\\\hospitelunited\\\\src\\\\component\\\\Productlist.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { API_TOKEN_NAME } from '../constants';\nimport { scAxios } from '../';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getAllProducts = () => {\n  return new Promise((resolve, reject) => {\n    const req = scAxios.request('products/getallproducts', {\n      method: 'get',\n      headers: {\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem(API_TOKEN_NAME)\n      }\n    });\n    req.then(res => resolve(res.data)).catch(err => reject(err));\n  });\n};\n\nconst deleteProduct = data => {\n  return new Promise((resolve, reject) => {\n    const req = scAxios.request('/products/delete/' + data.id, {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem(API_TOKEN_NAME)\n      }\n    });\n    req.then(res => resolve(res.data)).catch(err => reject(err));\n  });\n};\n\nclass Productlist extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      fields: {},\n      errors: {},\n      productlist: []\n    };\n  }\n\n  delete(id) {\n    const data = {\n      id: id\n    };\n    deleteProduct(data).then(res => {\n      if (res.status === '1') {\n        toast.success(res.message, {\n          position: toast.POSITION.BOTTOM_RIGHT\n        });\n      } else {\n        toast.error(res.message, {\n          position: toast.POSITION.BOTTOM_RIGHT\n        });\n      }\n\n      this.componentDidMount();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    getAllProducts().then(res => {\n      if (res.status === true) {\n        var records = res.data;\n        this.setState({\n          productlist: records\n        });\n      } else {\n        toast.error(res.message, {\n          position: toast.POSITION.BOTTOM_RIGHT\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-2\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/add-item\",\n              className: \"btn btn-primary\",\n              children: \"Create Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-hover\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Sku\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Desc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  width: \"200px\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.productlist.length > 0 ? this.state.productlist.map(productdata => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: productdata.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: productdata.product_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: productdata.product_sku\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: productdata.product_desc\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: productdata.product_amount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: `/edit-product/${productdata.id}`,\n                      className: \"btn btn-primary\",\n                      children: \"Edit Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/view-product/${productdata.id}`,\n                      className: \"btn btn-primary\",\n                      children: \"View Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\",\n                      className: \"tableicon btn btn-danger\",\n                      onClick: e => {\n                        if (window.confirm('Are you sure you wish to delete this list ?')) this.delete(productdata.id);\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 23\n                  }, this)]\n                }, productdata.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"No result Found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 24\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        autoClose: 5000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Productlist;","map":{"version":3,"names":["React","Link","API_TOKEN_NAME","scAxios","ToastContainer","toast","getAllProducts","Promise","resolve","reject","req","request","method","headers","localStorage","getItem","then","res","data","catch","err","deleteProduct","id","Productlist","Component","state","fields","errors","productlist","delete","status","success","message","position","POSITION","BOTTOM_RIGHT","error","componentDidMount","console","log","records","setState","render","length","map","productdata","product_name","product_sku","product_desc","product_amount","e","window","confirm"],"sources":["C:/xampp/htdocs/reactjs/hospitelunited/src/component/Productlist.js"],"sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {API_TOKEN_NAME} from '../constants';\nimport { scAxios } from '../';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst getAllProducts = () => {\n    return new Promise((resolve, reject) => {\n        const req = scAxios.request('products/getallproducts', {\n            method: 'get',\n            headers: {\n                'Accept': 'application/json',\n                'Authorization': 'Bearer ' + localStorage.getItem(API_TOKEN_NAME)\n            }\n        });\n        req.then(res => resolve(res.data))\n            .catch(err => reject(err));\n    });\n}\nconst deleteProduct = (data) => {\n\n  return new Promise((resolve, reject) => {\n      const req = scAxios.request('/products/delete/'+data.id, {\n          method: 'post',\n          headers: {\n              'Accept': 'application/json',\n              'Authorization': 'Bearer ' + localStorage.getItem(API_TOKEN_NAME)\n          }\n\n      });\n\n      req.then(res => resolve(res.data))\n          .catch(err => reject(err));\n  });\n}\nclass Productlist extends React.Component {\n  state = {\n        fields: {},\n        errors: {},\n        productlist:[],\n  };\n  delete(id){\n  const data = {\n          id: id\n      }\n\n    deleteProduct(data)\n      .then(res => {\n        if(res.status==='1'){\n          toast.success(res.message, {\n            position: toast.POSITION.BOTTOM_RIGHT\n          });\n        }  else {\n          toast.error(res.message, {\n            position: toast.POSITION.BOTTOM_RIGHT\n          });\n        }\n        this.componentDidMount();\n      })\n      .catch(err => {\n          console.log(err);\n      });\n  }\n  componentDidMount() {\n    getAllProducts()\n      .then(res => {\n        if(res.status===true){\n          var records = res.data;\n          this.setState({ productlist: records });\n        } else {\n          toast.error(res.message, {\n              position: toast.POSITION.BOTTOM_RIGHT\n          });\n        }\n      })\n      .catch(err => {\n          console.log(err);\n      });\n  }\n  render(){\n    return (\n      <div>\n        <div className=\"container\">\n          <h1>Products</h1>\n          <div className=\"row\">\n            <div className=\"col-md-10\"></div>\n            <div className=\"col-md-2\">\n              <Link to=\"/add-item\" className=\"btn btn-primary\">Create Product</Link>\n            </div>\n            <table className=\"table table-hover\">\n                <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Product Name</th>\n                    <th>Product Sku</th>\n                    <th>Product Desc</th>\n                    <th>Product Amount</th>\n                    <th width=\"200px\">Actions</th>\n                </tr>\n                </thead>\n                <tbody>\n                {\n                  this.state.productlist.length > 0\n                  ?\n                  this.state.productlist.map(productdata => {\n                  return(\n                    <tr key={productdata.id}>\n                      <td>{productdata.id}</td> \n                      <td>{productdata.product_name}</td>\n                      <td>{productdata.product_sku}</td>\n                      <td>{productdata.product_desc}</td>\n                      <td>{productdata.product_amount}</td>\n                      <td>\n                        <Link to={`/edit-product/${productdata.id}`} className=\"btn btn-primary\">Edit Product</Link>\n                        <Link to={`/view-product/${productdata.id}`} className=\"btn btn-primary\">View Product</Link>\n                        <a href=\"#\" className=\"tableicon btn btn-danger\" onClick={(e) => { if (window.confirm('Are you sure you wish to delete this list ?')) this.delete(productdata.id)} }>Delete</a>\n                      </td>\n                    </tr>\n                  )\n                })\n                :\n                  <tr> <td>No result Found</td></tr>\n                }\n\n                </tbody>\n            </table>\n          </div>\n        </div>\n        <ToastContainer autoClose={5000} />\n      </div>\n    );\n  }\n}\n\nexport default Productlist;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,cAAR,QAA6B,cAA7B;AACA,SAASC,OAAT,QAAwB,KAAxB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;;;AAEA,MAAMC,cAAc,GAAG,MAAM;EACzB,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACpC,MAAMC,GAAG,GAAGP,OAAO,CAACQ,OAAR,CAAgB,yBAAhB,EAA2C;MACnDC,MAAM,EAAE,KAD2C;MAEnDC,OAAO,EAAE;QACL,UAAU,kBADL;QAEL,iBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqBb,cAArB;MAFxB;IAF0C,CAA3C,CAAZ;IAOAQ,GAAG,CAACM,IAAJ,CAASC,GAAG,IAAIT,OAAO,CAACS,GAAG,CAACC,IAAL,CAAvB,EACKC,KADL,CACWC,GAAG,IAAIX,MAAM,CAACW,GAAD,CADxB;EAEH,CAVM,CAAP;AAWH,CAZD;;AAaA,MAAMC,aAAa,GAAIH,IAAD,IAAU;EAE9B,OAAO,IAAIX,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACpC,MAAMC,GAAG,GAAGP,OAAO,CAACQ,OAAR,CAAgB,sBAAoBO,IAAI,CAACI,EAAzC,EAA6C;MACrDV,MAAM,EAAE,MAD6C;MAErDC,OAAO,EAAE;QACL,UAAU,kBADL;QAEL,iBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqBb,cAArB;MAFxB;IAF4C,CAA7C,CAAZ;IASAQ,GAAG,CAACM,IAAJ,CAASC,GAAG,IAAIT,OAAO,CAACS,GAAG,CAACC,IAAL,CAAvB,EACKC,KADL,CACWC,GAAG,IAAIX,MAAM,CAACW,GAAD,CADxB;EAEH,CAZM,CAAP;AAaD,CAfD;;AAgBA,MAAMG,WAAN,SAA0BvB,KAAK,CAACwB,SAAhC,CAA0C;EAAA;IAAA;IAAA,KACxCC,KADwC,GAChC;MACFC,MAAM,EAAE,EADN;MAEFC,MAAM,EAAE,EAFN;MAGFC,WAAW,EAAC;IAHV,CADgC;EAAA;;EAMxCC,MAAM,CAACP,EAAD,EAAI;IACV,MAAMJ,IAAI,GAAG;MACLI,EAAE,EAAEA;IADC,CAAb;IAIED,aAAa,CAACH,IAAD,CAAb,CACGF,IADH,CACQC,GAAG,IAAI;MACX,IAAGA,GAAG,CAACa,MAAJ,KAAa,GAAhB,EAAoB;QAClBzB,KAAK,CAAC0B,OAAN,CAAcd,GAAG,CAACe,OAAlB,EAA2B;UACzBC,QAAQ,EAAE5B,KAAK,CAAC6B,QAAN,CAAeC;QADA,CAA3B;MAGD,CAJD,MAIQ;QACN9B,KAAK,CAAC+B,KAAN,CAAYnB,GAAG,CAACe,OAAhB,EAAyB;UACvBC,QAAQ,EAAE5B,KAAK,CAAC6B,QAAN,CAAeC;QADF,CAAzB;MAGD;;MACD,KAAKE,iBAAL;IACD,CAZH,EAaGlB,KAbH,CAaSC,GAAG,IAAI;MACVkB,OAAO,CAACC,GAAR,CAAYnB,GAAZ;IACH,CAfH;EAgBD;;EACDiB,iBAAiB,GAAG;IAClB/B,cAAc,GACXU,IADH,CACQC,GAAG,IAAI;MACX,IAAGA,GAAG,CAACa,MAAJ,KAAa,IAAhB,EAAqB;QACnB,IAAIU,OAAO,GAAGvB,GAAG,CAACC,IAAlB;QACA,KAAKuB,QAAL,CAAc;UAAEb,WAAW,EAAEY;QAAf,CAAd;MACD,CAHD,MAGO;QACLnC,KAAK,CAAC+B,KAAN,CAAYnB,GAAG,CAACe,OAAhB,EAAyB;UACrBC,QAAQ,EAAE5B,KAAK,CAAC6B,QAAN,CAAeC;QADJ,CAAzB;MAGD;IACF,CAVH,EAWGhB,KAXH,CAWSC,GAAG,IAAI;MACVkB,OAAO,CAACC,GAAR,CAAYnB,GAAZ;IACH,CAbH;EAcD;;EACDsB,MAAM,GAAE;IACN,oBACE;MAAA,wBACE;QAAK,SAAS,EAAC,WAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAK,SAAS,EAAC,KAAf;UAAA,wBACE;YAAK,SAAS,EAAC;UAAf;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAK,SAAS,EAAC,UAAf;YAAA,uBACE,QAAC,IAAD;cAAM,EAAE,EAAC,WAAT;cAAqB,SAAS,EAAC,iBAA/B;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAFF,eAKE;YAAO,SAAS,EAAC,mBAAjB;YAAA,wBACI;cAAA,uBACA;gBAAA,wBACI;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADJ,eAEI;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAFJ,eAGI;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAHJ,eAII;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAJJ,eAKI;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QALJ,eAMI;kBAAI,KAAK,EAAC,OAAV;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QANJ;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YADA;cAAA;cAAA;cAAA;YAAA,QADJ,eAWI;cAAA,UAEE,KAAKjB,KAAL,CAAWG,WAAX,CAAuBe,MAAvB,GAAgC,CAAhC,GAEA,KAAKlB,KAAL,CAAWG,WAAX,CAAuBgB,GAAvB,CAA2BC,WAAW,IAAI;gBAC1C,oBACE;kBAAA,wBACE;oBAAA,UAAKA,WAAW,CAACvB;kBAAjB;oBAAA;oBAAA;oBAAA;kBAAA,QADF,eAEE;oBAAA,UAAKuB,WAAW,CAACC;kBAAjB;oBAAA;oBAAA;oBAAA;kBAAA,QAFF,eAGE;oBAAA,UAAKD,WAAW,CAACE;kBAAjB;oBAAA;oBAAA;oBAAA;kBAAA,QAHF,eAIE;oBAAA,UAAKF,WAAW,CAACG;kBAAjB;oBAAA;oBAAA;oBAAA;kBAAA,QAJF,eAKE;oBAAA,UAAKH,WAAW,CAACI;kBAAjB;oBAAA;oBAAA;oBAAA;kBAAA,QALF,eAME;oBAAA,wBACE,QAAC,IAAD;sBAAM,EAAE,EAAG,iBAAgBJ,WAAW,CAACvB,EAAG,EAA1C;sBAA6C,SAAS,EAAC,iBAAvD;sBAAA;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA,QADF,eAEE,QAAC,IAAD;sBAAM,EAAE,EAAG,iBAAgBuB,WAAW,CAACvB,EAAG,EAA1C;sBAA6C,SAAS,EAAC,iBAAvD;sBAAA;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA,QAFF,eAGE;sBAAG,IAAI,EAAC,GAAR;sBAAY,SAAS,EAAC,0BAAtB;sBAAiD,OAAO,EAAG4B,CAAD,IAAO;wBAAE,IAAIC,MAAM,CAACC,OAAP,CAAe,6CAAf,CAAJ,EAAmE,KAAKvB,MAAL,CAAYgB,WAAW,CAACvB,EAAxB;sBAA4B,CAAlK;sBAAA;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA,QAHF;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QANF;gBAAA,GAASuB,WAAW,CAACvB,EAArB;kBAAA;kBAAA;kBAAA;gBAAA,QADF;cAcD,CAfC,CAFA,gBAmBA;gBAAA,6BAAK;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAAL;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YArBF;cAAA;cAAA;cAAA;YAAA,QAXJ;UAAA;YAAA;YAAA;YAAA;UAAA,QALF;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eA+CE,QAAC,cAAD;QAAgB,SAAS,EAAE;MAA3B;QAAA;QAAA;QAAA;MAAA,QA/CF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAmDD;;AAhGuC;;AAmG1C,eAAeC,WAAf"},"metadata":{},"sourceType":"module"}